{% extends "base.html" %}
{% block content %}
<h2>Список завдань</h2>

{% if current_user.is_authenticated %}
<div class="card p-3 mb-4">
    <form method="POST">
        <div class="mb-2">
            <input type="text" name="title" class="form-control" placeholder="Назва завдання" required>
        </div>
        <div class="mb-2">
            <input type="text" name="description" class="form-control" placeholder="Опис">
        </div>
        <button type="submit" class="btn btn-success">Додати завдання</button>
    </form>
</div>
{% else %}
<div class="alert alert-info">Щоб керувати завданнями, будь ласка, увійдіть.</div>
{% endif %}

<ul class="list-group">
    {% for task in tasks %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
            <strong>{{ task.title }}</strong><br>
            <small>{{ task.description }}</small>
        </div>
        {% if current_user.is_authenticated %}
        <div>
            <a href="/tasks/edit/{{ task.id }}" class="btn btn-sm btn-warning">Ред.</a>
            <a href="/tasks/delete/{{ task.id }}" class="btn btn-sm btn-danger">Вид.</a>
        </div>
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% endblock %}